{"name":"New Macro","permission":{"default":0,"rLkTDLrH9WjijVdN":3},"type":"chat","sort":100001,"flags":{},"scope":"global","command":"","author":"rLkTDLrH9WjijVdN","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"032pyCxiKknCXtoC"}
{"name":"New Macro","permission":{"default":0,"x2lFHJNlvTJM0ns9":3},"type":"chat","sort":100001,"flags":{},"scope":"global","command":"","author":"x2lFHJNlvTJM0ns9","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"5PvcEBIUxdYhTEI5"}
{"name":"New Macro","permission":{"default":0,"HMj6mjGD9Pe6Vu4f":3},"type":"chat","sort":100001,"flags":{},"scope":"global","command":"","author":"HMj6mjGD9Pe6Vu4f","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"Fd5IHHgoB0UXKXeG"}
{"name":"New Macro","permission":{"default":0,"AlOtIvgBK723dtmp":3},"type":"chat","sort":100001,"flags":{},"scope":"global","command":"","author":"AlOtIvgBK723dtmp","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"GjEiUYWXICLVXQ5C"}
{"_id":"T74W0tY3bfCqINK4","name":"Add NPC","permission":{"default":0,"x2lFHJNlvTJM0ns9":3},"type":"script","sort":100001,"flags":{"combat-utility-belt":{"macroTrigger":""}},"scope":"global","command":"function sleep(milliseconds) {\n  const date = Date.now();\n  let currentDate = null;\n  do {\n    currentDate = Date.now();\n  } while (currentDate - date < milliseconds);\n}\n\nconst img = prompt(\"IMG Source\");\n\nvar NPC_image = PIXI.Sprite.from(img);\n \n// center the sprite anchor point\nNPC_image.alpha  = 0.5;\nNPC_image.anchor.x = 0;\nNPC_image.anchor.y = 0;\n \n// move the sprite to the center of the canvas\n\nNPC_image.position.x = 800;\nNPC_image.position.y = 800;\n\n\n\nwhile (NPC_image.alpha <1) {\nsleep(50);\nNPC_image.alpha += 0.3;\n}","author":"x2lFHJNlvTJM0ns9","img":"icons/svg/dice-target.svg","actorIds":[]}
{"_id":"TgezbGxTKHkszafo","name":"New Macro","permission":{"default":0,"x2lFHJNlvTJM0ns9":3},"type":"script","sort":100001,"flags":{"combat-utility-belt":{"macroTrigger":""}},"scope":"global","command":"/**\n * Update selected token HP\n * Author: D. Coughler\n */\n \n\nconst tokens = canvas.tokens.controlled;\nlet choice = 0;\nlet action = 0;\n /**\n  * Check if token is selected\n **/\n\nif (tokens.length > 0){\n\ttokens.forEach(UpdateHP);\n} else {\n\tui.notifications.warn(\"No Tokens were selected\");\n}\n\n/**\n  * Build Dialog\n  *   - Token Name\n  *   - Current HP Listed\n  *   - Edit box\n  *   - '+' / '=' / '-' buttons\n  *    -- add health\n  *    -- update health\n  *    -- subtract health\n **/\n \nfunction UpdateHP(token, index){\n  let actor = token.actor;\n\n/** Check if it is an npc selected **/\n\n\tif (actor.data.type != \"npc\") return;\n\n    new Dialog({\n       title:actor.data.name,\n\t   content:`<br/>\n\t\t\t\t<label for=\"HPValue\">Value:</label><br>\n\t\t\t\t<input type=\"text\" id=\"hpvalue\" name=\"hpvalue\" value=${actor.data.data.attributes.hp.value}>\n\t\t\t\t<br/>`,\n\t   buttons: {\n\t\t   dmg: {\n\t\t\t   label: \"Dmg\",\n\t\t\t   callback: () => action = 1\n\t\t   },\n\t\t   upd: {\n\t\t\t   label: \"Upd\",\n\t\t\t   callback: () => action = 2\n\t\t   },\n\t\t   heal: {\n\t\t\t   label: \"Heal\",\n\t\t\t   callback: () => action = 3\n\t\t   },\n\t   },\n\t   close: html => {\n\t\t   let mod=0;\n   \t\t   let currentval = parseInt(actor.data.data.attributes.hp.value);\n\t     switch(action) {\n           case 1:\n\t\t    mod = parseInt(html.find('[name=\"hpvalue\"]')[0].value) * -1;\n           break;\n           case 3:\n\t\t    mod = parseInt(html.find('[name=\"hpvalue\"]')[0].value);\n           break;\n           default:\n            mod=parseInt(html.find('[name=\"hpvalue\"]')[0].value)-currentval;\n          }\n         actor.data.data.attributes.hp.value = currentval + mod;\n\t   }  \n}).render(true);\n}","author":"x2lFHJNlvTJM0ns9","img":"icons/svg/dice-target.svg","actorIds":[]}
{"_id":"ULANJ99WGp0JFJB8","name":"New Macro","permission":{"default":0,"x2lFHJNlvTJM0ns9":3},"type":"chat","sort":100001,"flags":{"combat-utility-belt":{"macroTrigger":""}},"scope":"global","command":"Roll: [[1d100]]","author":"x2lFHJNlvTJM0ns9","img":"icons/svg/dice-target.svg","actorIds":[]}
{"_id":"fEEbKKbhpTD8yWGf","name":"New Macro","permission":{"default":0,"x2lFHJNlvTJM0ns9":3},"type":"script","sort":100001,"flags":{"combat-utility-belt":{"macroTrigger":""}},"scope":"global","command":"const g = new FilePicker();\n\ng.render","author":"x2lFHJNlvTJM0ns9","img":"icons/svg/dice-target.svg","actorIds":[]}
